##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### 
# AutoApp    v15.1009
# Harness:   root@tclserver8
# Date:      02/27/2020 10:00:24 AM
# Script:    /public/casa-495/test/Tests/hxd/SAEGW.test
# Eth0 IP:   0.0.0.0
# Loopback:  
# Image:     
# Descript:  
# Config:    /public/casa-495/test/Config/saegw-mzftest.tcf
# Log File:  /public/casa-495/test/Log/SAEGW_3756-00.txt
##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### 

Info(Include): Installed package casaExcel v1.0
Info(Include): Installed package casaSAEGW v1.0
TRACE(SAEGW::Main) : Calledby RunTest
Info(Include): Installed package casaExcel v1.0
Info(Include): Installed package casaLandslide v1.0

STEP(10:00:24): START Step 1: 1.Get the Excel list;
STEP(10:00:24): RESULT=PASS  Step 1: 1.Get the Excel list;

STEP(10:00:24): START Step 2: 2.Get a list of use cases;
STEP(10:00:24): RESULT=PASS  Step 2: 2.Get a list of use cases;
Info(Include): Installed package casaCmd v9.0
Info(Include): Installed package casaSAEGW v1.0
Info(Include): Installed package casaPGW v1.0
Info(Include): Installed package casaIxia v1.0
Info(Include): Installed package casaPlatform v1.0
   TRACE(StartSaegwTest)	 Calledby ::SAEGW::Main 


=================================== 10:00:24 ===================================
=== ssh -l root -p 22 -q -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no 172.0.10.247
=== root@172.0.10.247's password: 
=== Welcome to Ubuntu 14.04.3 LTS (GNU/Linux 3.19.0-25-generic x86_64)
=== 
===  * Documentation:  https://help.ubuntu.com/
=== 
===   System information as of Wed Feb 26 20:58:25 EST 2020
=== 
===   System load:  16.04              Users logged in:        2
===   Usage of /:   60.9% of 37.16GB   IP address for eth0:    172.0.10.247
===   Memory usage: 50%                IP address for docker0: 172.17.0.1
===   Swap usage:   0%                 IP address for lo6:     60.1.1.247
===   Processes:    713
=== 
===   Graph this data and manage this system at:
===     https://landscape.canonical.com/
=== 
=== 245 packages can be updated.
=== 175 updates are security updates.
=== 
=== New release '16.04.6 LTS' available.
=== Run 'do-release-upgrade' to upgrade to it.
=== 
=== Last login: Wed Feb 26 20:58:26 2020 from 172.0.11.88
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# su casa
=== 
=== ===================================
=== Welcome to CASA MEC x86 Platform
=== ===================================
=== CLI services started!
=== CASA-MOBILE>
=== CASA-MOBILE>en
=== Password: 
=== CASA-MOBILE#
=== CASA-MOBILE#show task crash
=== Number  Task             Crash-Time                Exit-Code     Exit-Reason     Core-file
=== ==========================================================================================
=== Total 0 crash records
=== CASA-MOBILE#
=== CASA-MOBILE#
================================================================================


=================================== 10:00:27 ===================================
=== ssh -l root -p 22 -q -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no 172.0.10.247
=== root@172.0.10.247's password: 
=== Welcome to Ubuntu 14.04.3 LTS (GNU/Linux 3.19.0-25-generic x86_64)
=== 
===  * Documentation:  https://help.ubuntu.com/
=== 
===   System information as of Wed Feb 26 21:00:24 EST 2020
=== 
===   System load:  16.27              Users logged in:        1
===   Usage of /:   60.9% of 37.16GB   IP address for eth0:    172.0.10.247
===   Memory usage: 50%                IP address for docker0: 172.17.0.1
===   Swap usage:   0%                 IP address for lo6:     60.1.1.247
===   Processes:    711
=== 
===   Graph this data and manage this system at:
===     https://landscape.canonical.com/
=== 
=== 245 packages can be updated.
=== 175 updates are security updates.
=== 
=== New release '16.04.6 LTS' available.
=== Run 'do-release-upgrade' to upgrade to it.
=== 
=== Last login: Wed Feb 26 21:00:25 2020 from 172.0.11.88
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# su casa
=== 
=== ===================================
=== Welcome to CASA MEC x86 Platform
=== ===================================
=== CLI services started!
=== CASA-MOBILE>
=== CASA-MOBILE>en
=== Password: 
=== CASA-MOBILE#
=== CASA-MOBILE#show task crash
=== Number  Task             Crash-Time                Exit-Code     Exit-Reason     Core-file
=== ==========================================================================================
=== Total 0 crash records
=== CASA-MOBILE#
=== CASA-MOBILE#
================================================================================


STEP(10:00:29): START Step 3: SSH to SAEGW linux
TRACE(Ssh_Retry) Calledby ::DEALEXCEL::Ssh_Server_Linux

=================================== 10:00:29 ===================================
=== ssh -l root -p 22 -q -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no 172.0.10.247
=== root@172.0.10.247's password: 
=== Welcome to Ubuntu 14.04.3 LTS (GNU/Linux 3.19.0-25-generic x86_64)
=== 
===  * Documentation:  https://help.ubuntu.com/
=== 
===   System information as of Wed Feb 26 21:00:27 EST 2020
=== 
===   System load:  16.27              Users logged in:        1
===   Usage of /:   60.9% of 37.16GB   IP address for eth0:    172.0.10.247
===   Memory usage: 50%                IP address for docker0: 172.17.0.1
===   Swap usage:   0%                 IP address for lo6:     60.1.1.247
===   Processes:    712
=== 
===   Graph this data and manage this system at:
===     https://landscape.canonical.com/
=== 
=== 245 packages can be updated.
=== 175 updates are security updates.
=== 
=== New release '16.04.6 LTS' available.
=== Run 'do-release-upgrade' to upgrade to it.
=== 
=== Last login: Wed Feb 26 21:00:27 2020 from 172.0.11.88
=== root@CASA-MOBILE:~# page-off
=== page-off: command not found
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
================================================================================

!!Success(DEALEXCEL::Ssh_Server_Linux): Ssh 172.0.10.247 Success fd: ::DEALEXCEL::Linux_Spawn_Id(SPAWN_ID_SAEGW_C_Linux_1)=exp7
TRACE(Ssh_Retry) Calledby ::DEALEXCEL::Ssh_Server_Linux

=================================== 10:00:31 ===================================
=== ssh -l root -p 22 -q -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no 172.0.10.247
=== root@172.0.10.247's password: 
=== Welcome to Ubuntu 14.04.3 LTS (GNU/Linux 3.19.0-25-generic x86_64)
=== 
===  * Documentation:  https://help.ubuntu.com/
=== 
===   System information as of Wed Feb 26 21:00:29 EST 2020
=== 
===   System load:  16.33              Users logged in:        1
===   Usage of /:   60.9% of 37.16GB   IP address for eth0:    172.0.10.247
===   Memory usage: 50%                IP address for docker0: 172.17.0.1
===   Swap usage:   0%                 IP address for lo6:     60.1.1.247
===   Processes:    712
=== 
===   Graph this data and manage this system at:
===     https://landscape.canonical.com/
=== 
=== 245 packages can be updated.
=== 175 updates are security updates.
=== 
=== New release '16.04.6 LTS' available.
=== Run 'do-release-upgrade' to upgrade to it.
=== 
=== Last login: Wed Feb 26 21:00:30 2020 from 172.0.11.88
=== root@CASA-MOBILE:~# page-off
=== page-off: command not found
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
================================================================================

!!Success(DEALEXCEL::Ssh_Server_Linux): Ssh 172.0.10.247 Success fd: ::DEALEXCEL::Linux_Spawn_Id(SPAWN_ID_SAEGW_U_Linux_1)=exp8
STEP(10:00:34): RESULT=PASS  Step 3: SSH to SAEGW linux

STEP(10:00:34): START Step 4: 3.SSH to SAEGW-C and SAEGW-U as casa and log into enable mode;

=================================== 10:00:34 ===================================
=== ssh -l root -p 22 -q -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no  172.0.10.247
=== root@172.0.10.247's password: 
=== Welcome to Ubuntu 14.04.3 LTS (GNU/Linux 3.19.0-25-generic x86_64)
=== 
===  * Documentation:  https://help.ubuntu.com/
=== 
===   System information as of Wed Feb 26 21:00:32 EST 2020
=== 
===   System load:  16.33              Users logged in:        2
===   Usage of /:   60.9% of 37.16GB   IP address for eth0:    172.0.10.247
===   Memory usage: 50%                IP address for docker0: 172.17.0.1
===   Swap usage:   0%                 IP address for lo6:     60.1.1.247
===   Processes:    714
=== 
===   Graph this data and manage this system at:
===     https://landscape.canonical.com/
=== 
=== 245 packages can be updated.
=== 175 updates are security updates.
=== 
=== New release '16.04.6 LTS' available.
=== Run 'do-release-upgrade' to upgrade to it.
=== 
=== Last login: Wed Feb 26 21:00:32 2020 from 172.0.11.88
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
================================================================================

!!Success(SAEGW::LOGIN_SAEGW_SERVER): Ssh  172.0.10.247 Success fd=exp9

=================================== 10:00:37 ===================================
=== su casa
=== 
=== ===================================
=== Welcome to CASA MEC x86 Platform
=== ===================================
=== CLI services started!
=== CASA-MOBILE>
=== CASA-MOBILE>en
=== Password: 
=== CASA-MOBILE#
=== CASA-MOBILE#
================================================================================

!!Success(SAEGW::LOGIN_SAEGW_SERVER): enter CASA-MOBILE Success!!!

=================================== 10:00:37 ===================================
=== ssh -l root -p 22 -q -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no  172.0.10.247
=== root@172.0.10.247's password: 
=== Welcome to Ubuntu 14.04.3 LTS (GNU/Linux 3.19.0-25-generic x86_64)
=== 
===  * Documentation:  https://help.ubuntu.com/
=== 
===   System information as of Wed Feb 26 21:00:34 EST 2020
=== 
===   System load:  16.39              Users logged in:        2
===   Usage of /:   60.9% of 37.16GB   IP address for eth0:    172.0.10.247
===   Memory usage: 50%                IP address for docker0: 172.17.0.1
===   Swap usage:   0%                 IP address for lo6:     60.1.1.247
===   Processes:    716
=== 
===   Graph this data and manage this system at:
===     https://landscape.canonical.com/
=== 
=== 245 packages can be updated.
=== 175 updates are security updates.
=== 
=== New release '16.04.6 LTS' available.
=== Run 'do-release-upgrade' to upgrade to it.
=== 
=== Last login: Wed Feb 26 21:00:34 2020 from 172.0.11.88
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
================================================================================

!!Success(SAEGW::LOGIN_SAEGW_SERVER): Ssh  172.0.10.247 Success fd=exp10

=================================== 10:00:41 ===================================
=== su casa
=== 
=== ===================================
=== Welcome to CASA MEC x86 Platform
=== ===================================
=== CLI services started!
=== CASA-MOBILE>
=== CASA-MOBILE>en
=== Password: 
=== CASA-MOBILE#
=== CASA-MOBILE#
================================================================================

!!Success(SAEGW::LOGIN_SAEGW_SERVER): enter CASA-MOBILE Success!!!
STEP(10:00:41): RESULT=PASS  Step 4: 3.SSH to SAEGW-C and SAEGW-U as casa and log into enable mode;

STEP(10:00:41): START Step 5: 4.get excel case info
1
################start read test link database info################
python3 ./Lib/casaPython/Read_Test_Plan_DB.py 31748 '31747' /public/mzf/tcpdump
################finish read test link database info################
STEP(10:00:46): RESULT=PASS  Step 5: 4.get excel case info

STEP(10:00:46): START Step 6: 5.get excel case info
Execute Step:11409 
Info(::DEALEXCEL::ExecuteStep): Sleeping 2 second(s)...
Success Step:11409
Success(DEALEXCEL::ExecuteStep): !!! the Expect is 1 and Actual is 1!!
STEP(10:00:48): RESULT=PASS  Step 6: 5.get excel case info
Recovery conf!!
recovery_conf!!
Stop tools!!
Info(DEALEXCEL::Mirror_Clear): There are the following spawn_id of NFV that should clear mirror config (SPAWN_ID_SAEGW_C)

=================================== 10:00:49 ===================================
=== 
=== CASA-MOBILE#
=== CASA-MOBILE#mirror stop
=== CASA-MOBILE#
=== CASA-MOBILE#
================================================================================

TRACE(LteCliSend) : Calledby Mirror
{
					no mirror pgw protocol gtpc
					no mirror pgw protocol pfcp
					no mirror pgw protocol user
					no mirror pgw protocol gtpu
					no mirror sgw protocol s4s11
					no mirror sgw protocol s1u
					no mirror sgw protocol gtpc-s5s8
					no mirror sgw protocol gtpu-s5s8
					no mirror sgw protocol pfcp
					no mirror aaa protocol diameter sctp
					no mirror aaa protocol diameter tcp
				} -- -fd exp9

=================================== 10:00:49 ===================================
=== no mirror pgw protocol gtpc
=== CASA-MOBILE#
=== CASA-MOBILE#
================================================================================


=================================== 10:00:49 ===================================
=== no mirror pgw protocol pfcp
===                                    ^
=== Syntax Error
=== CASA-MOBILE#
=== CASA-MOBILE#
================================================================================


!! Error(ProcessExpectOutput): Detected Minor Error in output: Syntax Error

====================================================
=== [10:00:49] SendAndExpect Debug:
====================================================
> Expect Result ........ Detected Minor Error
> Target IP ............  172.0.10.247:22 (ssh)
> spawn_id ............. exp9
> Timeout .............. 10 second(s)
> Time Expired ......... 0 second(s)
> Send String .......... no mirror pgw protocol pfcp\r\n
> RegExp Switches ...... --
> Expect Prompt ........ .*[\r\n]*[^\s]{2,}[^\r\n]*[^@][>#:][ ]*$ (Default - Casa Prompt)
> Ignore Level ......... Off
> Pass String .......... [:PROMPT:]
> Fail String .......... N/A
> EXPECT_TIMEDOUT ...... False
> EXPECT_OUT(buffer) ... no mirror pgw protocol pfcp\r\n                                   ^\r\nSyntax Error\r\nCASA-MOBILE#\r\nCASA-MOBILE#



====================================================================================================
=== no mirror pgw protocol pfcp
===                                    ^
=== Syntax Error
=== CASA-MOBILE#
=== CASA-MOBILE#
====================================================================================================

Error(LteCliSend):no mirror pgw protocol pfcp
                                   ^
Syntax Error
CASA-MOBILE#
CASA-MOBILE# 
Send cli failed!!!

!! Error(Mirror): Error while clear mirror config
!!Error(DEALEXCEL::Mirror_Clear):  Mirror -type saegwc -stop -fd exp9 -clear_all 1 fail!!!
Warning(SAEGW::Main): ::DEALEXCEL::Mirror_Stop -type "saegwc" fail!!
Info(DEALEXCEL::Mirror_Clear): There are the following spawn_id of NFV that should clear mirror config (SPAWN_ID_SAEGW_U)

=================================== 10:00:50 ===================================
=== 
=== CASA-MOBILE#
=== CASA-MOBILE#mirror stop
=== CASA-MOBILE#
=== CASA-MOBILE#
================================================================================

TRACE(LteCliSend) : Calledby Mirror
{
					no mirror pgw protocol gtpc
					no mirror pgw protocol pfcp
					no mirror pgw protocol user
					no mirror pgw protocol gtpu
					no mirror sgw protocol s4s11
					no mirror sgw protocol s1u
					no mirror sgw protocol gtpc-s5s8
					no mirror sgw protocol gtpu-s5s8
					no mirror sgw protocol pfcp
					no mirror aaa protocol diameter sctp
					no mirror aaa protocol diameter tcp
				} -- -fd exp10

=================================== 10:00:50 ===================================
=== no mirror pgw protocol gtpc
=== CASA-MOBILE#
=== CASA-MOBILE#
================================================================================


=================================== 10:00:50 ===================================
=== no mirror pgw protocol pfcp
===                                    ^
=== Syntax Error
=== CASA-MOBILE#
=== CASA-MOBILE#
================================================================================


!! Error(ProcessExpectOutput): Detected Minor Error in output: Syntax Error

====================================================
=== [10:00:50] SendAndExpect Debug:
====================================================
> Expect Result ........ Detected Minor Error
> Target IP ............  172.0.10.247:22 (ssh)
> spawn_id ............. exp10
> Timeout .............. 10 second(s)
> Time Expired ......... 0 second(s)
> Send String .......... no mirror pgw protocol pfcp\r\n
> RegExp Switches ...... --
> Expect Prompt ........ .*[\r\n]*[^\s]{2,}[^\r\n]*[^@][>#:][ ]*$ (Default - Casa Prompt)
> Ignore Level ......... Off
> Pass String .......... [:PROMPT:]
> Fail String .......... N/A
> EXPECT_TIMEDOUT ...... False
> EXPECT_OUT(buffer) ... no mirror pgw protocol pfcp\r\n                                   ^\r\nSyntax Error\r\nCASA-MOBILE#\r\nCASA-MOBILE#



====================================================================================================
=== no mirror pgw protocol pfcp
===                                    ^
=== Syntax Error
=== CASA-MOBILE#
=== CASA-MOBILE#
====================================================================================================

Error(LteCliSend):no mirror pgw protocol pfcp
                                   ^
Syntax Error
CASA-MOBILE#
CASA-MOBILE# 
Send cli failed!!!

!! Error(Mirror): Error while clear mirror config
!!Error(DEALEXCEL::Mirror_Clear):  Mirror -type saegwu -stop -fd exp10 -clear_all 1 fail!!!
Warning(SAEGW::Main): ::DEALEXCEL::Mirror_Stop -type "saegwu" fail!!

STEP(10:00:50): START Step 7: Judge whether:: saegw:: main is executed successfully
STEP(10:00:50): RESULT=PASS  Step 7: Judge whether:: saegw:: main is executed successfully
Complete all steps!!
Info(EndofSaegwTest): test==/public/casa-495/test/Tests/hxd/SAEGW.test

TRACE(ShowHistory) : Calledby EndofSaegwTest


                                                            
------------------------------------------------------------------------------------------------------------------------
              Time               spawn_id           Descr                         Command                              
------------------------------------------------------------------------------------------------------------------------
 1            10:00:24           exp7               172.0.10.247:22:23            casa                                 
 2            10:00:26           exp7               172.0.10.247:22:23            su casa                              
 3            10:00:26           exp7               172.0.10.247:22:23            en\ncasa                             
 4            10:00:26           exp7               172.0.10.247:22:23            show task crash                      
 5            10:00:27           exp7               172.0.10.247:22:23            casa                                 
 6            10:00:29           exp7               172.0.10.247:22:23            su casa                              
 7            10:00:29           exp7               172.0.10.247:22:23            en\ncasa                             
 8            10:00:29           exp7               172.0.10.247:22:23            show task crash                      
 9            10:00:29           exp7               172.0.10.247:22:23            casa                                 
 10           10:00:30           exp7               172.0.10.247:22:23            page-off                             
 11           10:00:31           exp8               172.0.10.247:22:23            casa                                 
 12           10:00:32           exp8               172.0.10.247:22:23            page-off                             
 13           10:00:34           exp9                172.0.10.247:22:23           casa                                 
 14           10:00:37           exp9                172.0.10.247:22:23           su casa                              
 15           10:00:37           exp9                172.0.10.247:22:23           en\ncasa                             
 16           10:00:37           exp10               172.0.10.247:22:23           casa                                 
 17           10:00:41           exp10               172.0.10.247:22:23           su casa                              
 18           10:00:41           exp10               172.0.10.247:22:23           en\ncasa                             
 19           10:00:49           exp9                172.0.10.247:22:23           mirror stop                          
 20           10:00:49           exp9                172.0.10.247:22:23           no mirror pgw protocol gtpc          
 21           10:00:49           exp9                172.0.10.247:22:23           no mirror pgw protocol pfcp          
 22           10:00:50           exp10               172.0.10.247:22:23           mirror stop                          
 23           10:00:50           exp10               172.0.10.247:22:23           no mirror pgw protocol gtpc          
 24           10:00:50           exp10               172.0.10.247:22:23           no mirror pgw protocol pfcp          
------------------------------------------------------------------------------------------------------------------------



=================================== 10:00:50 ===================================
=== ssh -l root -p 22 -q -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no 172.0.10.247
=== root@172.0.10.247's password: 
=== Welcome to Ubuntu 14.04.3 LTS (GNU/Linux 3.19.0-25-generic x86_64)
=== 
===  * Documentation:  https://help.ubuntu.com/
=== 
===   System information as of Wed Feb 26 21:00:37 EST 2020
=== 
===   System load:  16.43              Users logged in:        2
===   Usage of /:   60.9% of 37.16GB   IP address for eth0:    172.0.10.247
===   Memory usage: 50%                IP address for docker0: 172.17.0.1
===   Swap usage:   0%                 IP address for lo6:     60.1.1.247
===   Processes:    722
=== 
===   Graph this data and manage this system at:
===     https://landscape.canonical.com/
=== 
=== 245 packages can be updated.
=== 175 updates are security updates.
=== 
=== New release '16.04.6 LTS' available.
=== Run 'do-release-upgrade' to upgrade to it.
=== 
=== Last login: Wed Feb 26 21:00:38 2020 from 172.0.11.88
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# su casa
=== 
=== ===================================
=== Welcome to CASA MEC x86 Platform
=== ===================================
=== CLI services started!
=== CASA-MOBILE>
=== CASA-MOBILE>en
=== Password: 
=== CASA-MOBILE#
=== CASA-MOBILE#show task crash
=== Number  Task             Crash-Time                Exit-Code     Exit-Reason     Core-file
=== ==========================================================================================
=== Total 0 crash records
=== CASA-MOBILE#
=== CASA-MOBILE#
================================================================================


================================================================================

