##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### 
# AutoApp    v15.1009
# Harness:   root@tclserver8
# Date:      02/26/2020 03:57:28 PM
# Script:    /public/casa-495/test/Tests/hxd/SAEGW.test
# Eth0 IP:   0.0.0.0
# Loopback:  
# Image:     
# Descript:  
# Config:    /public/casa-495/test/Config/saegw-mzftest.tcf
# Log File:  /public/casa-495/test/Log/SAEGW_28286-00.txt
##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### ##### 

Info(Include): Installed package casaExcel v1.0
Info(Include): Installed package casaSAEGW v1.0
TRACE(SAEGW::Main) : Calledby RunTest
Info(Include): Installed package casaExcel v1.0
Info(Include): Installed package casaLandslide v1.0

STEP(15:57:28): START Step 1: 1.Get the Excel list;
STEP(15:57:28): RESULT=PASS  Step 1: 1.Get the Excel list;

STEP(15:57:28): START Step 2: 2.Get a list of use cases;
STEP(15:57:28): RESULT=PASS  Step 2: 2.Get a list of use cases;
Info(Include): Installed package casaCmd v9.0
Info(Include): Installed package casaSAEGW v1.0
Info(Include): Installed package casaPGW v1.0
Info(Include): Installed package casaIxia v1.0
Info(Include): Installed package casaPlatform v1.0
   TRACE(StartSaegwTest)	 Calledby ::SAEGW::Main 


=================================== 15:57:28 ===================================
=== ssh -l root -p 22 -q -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no 172.0.10.247
=== root@172.0.10.247's password: 
=== Welcome to Ubuntu 14.04.3 LTS (GNU/Linux 3.19.0-25-generic x86_64)
=== 
===  * Documentation:  https://help.ubuntu.com/
=== 
===   System information as of Wed Feb 26 02:54:15 EST 2020
=== 
===   System load:  16.33              Users logged in:        2
===   Usage of /:   60.9% of 37.16GB   IP address for eth0:    172.0.10.247
===   Memory usage: 50%                IP address for docker0: 172.17.0.1
===   Swap usage:   0%                 IP address for lo6:     60.1.1.247
===   Processes:    706
=== 
===   Graph this data and manage this system at:
===     https://landscape.canonical.com/
=== 
=== 245 packages can be updated.
=== 175 updates are security updates.
=== 
=== New release '16.04.6 LTS' available.
=== Run 'do-release-upgrade' to upgrade to it.
=== 
=== Last login: Wed Feb 26 02:54:16 2020 from 172.0.11.88
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# su casa
=== 
=== ===================================
=== Welcome to CASA MEC x86 Platform
=== ===================================
=== CLI services started!
=== CASA-MOBILE>
=== CASA-MOBILE>en
=== Password: 
=== CASA-MOBILE#
=== CASA-MOBILE#show task crash
=== Number  Task             Crash-Time                Exit-Code     Exit-Reason     Core-file
=== ==========================================================================================
=== Total 0 crash records
=== CASA-MOBILE#
=== CASA-MOBILE#
================================================================================


=================================== 15:57:31 ===================================
=== ssh -l root -p 22 -q -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no 172.0.10.247
=== root@172.0.10.247's password: 
=== Welcome to Ubuntu 14.04.3 LTS (GNU/Linux 3.19.0-25-generic x86_64)
=== 
===  * Documentation:  https://help.ubuntu.com/
=== 
===   System information as of Wed Feb 26 02:57:28 EST 2020
=== 
===   System load:  16.19              Users logged in:        2
===   Usage of /:   60.9% of 37.16GB   IP address for eth0:    172.0.10.247
===   Memory usage: 50%                IP address for docker0: 172.17.0.1
===   Swap usage:   0%                 IP address for lo6:     60.1.1.247
===   Processes:    705
=== 
===   Graph this data and manage this system at:
===     https://landscape.canonical.com/
=== 
=== 245 packages can be updated.
=== 175 updates are security updates.
=== 
=== New release '16.04.6 LTS' available.
=== Run 'do-release-upgrade' to upgrade to it.
=== 
=== Last login: Wed Feb 26 02:57:29 2020 from 172.0.11.88
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# su casa
=== 
=== ===================================
=== Welcome to CASA MEC x86 Platform
=== ===================================
=== CLI services started!
=== CASA-MOBILE>
=== CASA-MOBILE>en
=== Password: 
=== CASA-MOBILE#
=== CASA-MOBILE#show task crash
=== Number  Task             Crash-Time                Exit-Code     Exit-Reason     Core-file
=== ==========================================================================================
=== Total 0 crash records
=== CASA-MOBILE#
=== CASA-MOBILE#
================================================================================


STEP(15:57:33): START Step 3: SSH to SAEGW linux
TRACE(Ssh_Retry) Calledby ::DEALEXCEL::Ssh_Server_Linux

=================================== 15:57:33 ===================================
=== ssh -l root -p 22 -q -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no 172.0.10.247
=== root@172.0.10.247's password: 
=== Welcome to Ubuntu 14.04.3 LTS (GNU/Linux 3.19.0-25-generic x86_64)
=== 
===  * Documentation:  https://help.ubuntu.com/
=== 
===   System information as of Wed Feb 26 02:57:31 EST 2020
=== 
===   System load:  16.18              Users logged in:        2
===   Usage of /:   60.9% of 37.16GB   IP address for eth0:    172.0.10.247
===   Memory usage: 50%                IP address for docker0: 172.17.0.1
===   Swap usage:   0%                 IP address for lo6:     60.1.1.247
===   Processes:    705
=== 
===   Graph this data and manage this system at:
===     https://landscape.canonical.com/
=== 
=== 245 packages can be updated.
=== 175 updates are security updates.
=== 
=== New release '16.04.6 LTS' available.
=== Run 'do-release-upgrade' to upgrade to it.
=== 
=== Last login: Wed Feb 26 02:57:32 2020 from 172.0.11.88
=== root@CASA-MOBILE:~# page-off
=== page-off: command not found
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
================================================================================

!!Success(DEALEXCEL::Ssh_Server_Linux): Ssh 172.0.10.247 Success fd: ::DEALEXCEL::Linux_Spawn_Id(SPAWN_ID_SAEGW_C_Linux_1)=exp7
TRACE(Ssh_Retry) Calledby ::DEALEXCEL::Ssh_Server_Linux

=================================== 15:57:36 ===================================
=== ssh -l root -p 22 -q -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no 172.0.10.247
=== root@172.0.10.247's password: 
=== Welcome to Ubuntu 14.04.3 LTS (GNU/Linux 3.19.0-25-generic x86_64)
=== 
===  * Documentation:  https://help.ubuntu.com/
=== 
===   System information as of Wed Feb 26 02:57:33 EST 2020
=== 
===   System load:  16.18              Users logged in:        2
===   Usage of /:   60.9% of 37.16GB   IP address for eth0:    172.0.10.247
===   Memory usage: 50%                IP address for docker0: 172.17.0.1
===   Swap usage:   0%                 IP address for lo6:     60.1.1.247
===   Processes:    705
=== 
===   Graph this data and manage this system at:
===     https://landscape.canonical.com/
=== 
=== 245 packages can be updated.
=== 175 updates are security updates.
=== 
=== New release '16.04.6 LTS' available.
=== Run 'do-release-upgrade' to upgrade to it.
=== 
=== Last login: Wed Feb 26 02:57:34 2020 from 172.0.11.88
=== root@CASA-MOBILE:~# page-off
=== page-off: command not found
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
================================================================================

!!Success(DEALEXCEL::Ssh_Server_Linux): Ssh 172.0.10.247 Success fd: ::DEALEXCEL::Linux_Spawn_Id(SPAWN_ID_SAEGW_U_Linux_1)=exp8
STEP(15:57:37): RESULT=PASS  Step 3: SSH to SAEGW linux

STEP(15:57:37): START Step 4: 3.SSH to SAEGW-C and SAEGW-U as casa and log into enable mode;

=================================== 15:57:38 ===================================
=== ssh -l root -p 22 -q -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no  172.0.10.247
=== root@172.0.10.247's password: 
=== Welcome to Ubuntu 14.04.3 LTS (GNU/Linux 3.19.0-25-generic x86_64)
=== 
===  * Documentation:  https://help.ubuntu.com/
=== 
===   System information as of Wed Feb 26 02:57:36 EST 2020
=== 
===   System load:  16.16              Users logged in:        2
===   Usage of /:   60.9% of 37.16GB   IP address for eth0:    172.0.10.247
===   Memory usage: 50%                IP address for docker0: 172.17.0.1
===   Swap usage:   0%                 IP address for lo6:     60.1.1.247
===   Processes:    707
=== 
===   Graph this data and manage this system at:
===     https://landscape.canonical.com/
=== 
=== 245 packages can be updated.
=== 175 updates are security updates.
=== 
=== New release '16.04.6 LTS' available.
=== Run 'do-release-upgrade' to upgrade to it.
=== 
=== Last login: Wed Feb 26 02:57:36 2020 from 172.0.11.88
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
================================================================================

!!Success(SAEGW::LOGIN_SAEGW_SERVER): Ssh  172.0.10.247 Success fd=exp9

=================================== 15:57:42 ===================================
=== su casa
=== 
=== ===================================
=== Welcome to CASA MEC x86 Platform
=== ===================================
=== CLI services started!
=== CASA-MOBILE>
=== CASA-MOBILE>en
=== Password: 
=== CASA-MOBILE#
=== CASA-MOBILE#
================================================================================

!!Success(SAEGW::LOGIN_SAEGW_SERVER): enter CASA-MOBILE Success!!!

=================================== 15:57:42 ===================================
=== ssh -l root -p 22 -q -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no  172.0.10.247
=== root@172.0.10.247's password: 
=== Welcome to Ubuntu 14.04.3 LTS (GNU/Linux 3.19.0-25-generic x86_64)
=== 
===  * Documentation:  https://help.ubuntu.com/
=== 
===   System information as of Wed Feb 26 02:57:38 EST 2020
=== 
===   System load:  16.16              Users logged in:        2
===   Usage of /:   60.9% of 37.16GB   IP address for eth0:    172.0.10.247
===   Memory usage: 50%                IP address for docker0: 172.17.0.1
===   Swap usage:   0%                 IP address for lo6:     60.1.1.247
===   Processes:    709
=== 
===   Graph this data and manage this system at:
===     https://landscape.canonical.com/
=== 
=== 245 packages can be updated.
=== 175 updates are security updates.
=== 
=== New release '16.04.6 LTS' available.
=== Run 'do-release-upgrade' to upgrade to it.
=== 
=== Last login: Wed Feb 26 02:57:38 2020 from 172.0.11.88
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
=== root@CASA-MOBILE:~# 
================================================================================

!!Success(SAEGW::LOGIN_SAEGW_SERVER): Ssh  172.0.10.247 Success fd=exp10

=================================== 15:57:46 ===================================
=== su casa
=== 
=== ===================================
=== Welcome to CASA MEC x86 Platform
=== ===================================
=== CLI services started!
=== CASA-MOBILE>
=== CASA-MOBILE>en
=== Password: 
=== CASA-MOBILE#
=== CASA-MOBILE#
================================================================================

!!Success(SAEGW::LOGIN_SAEGW_SERVER): enter CASA-MOBILE Success!!!
STEP(15:57:46): RESULT=PASS  Step 4: 3.SSH to SAEGW-C and SAEGW-U as casa and log into enable mode;

STEP(15:57:46): START Step 5: 4.get excel case info
1
################start read test link database info################
python3 ./Lib/casaPython/Read_Test_Plan_DB.py 31748 '31747' /public/mzf/tcpdump
################finish read test link database info################
STEP(15:57:50): RESULT=PASS  Step 5: 4.get excel case info

STEP(15:57:50): START Step 6: 5.get excel case info
Execute Step:11409 
Info(::DEALEXCEL::ExecuteStep): Sleeping 2 second(s)...
Success Step:11409
Success(DEALEXCEL::ExecuteStep): !!! the Expect is 1 and Actual is 1!!
STEP(15:57:52): RESULT=PASS  Step 6: 5.get excel case info
Recovery conf!!
recovery_conf!!
Stop tools!!
Info(DEALEXCEL::Mirror_Clear): There are the following spawn_id of NFV that should clear mirror config (SPAWN_ID_SAEGW_C)

=================================== 15:57:53 ===================================
=== 
=== CASA-MOBILE#
=== CASA-MOBILE#mirror stop
=== CASA-MOBILE#
=== CASA-MOBILE#
================================================================================

TRACE(LteCliSend) : Calledby Mirror
{
					no mirror pgw protocol gtpc
					no mirror pgw protocol pfcp
					no mirror pgw protocol user
					no mirror pgw protocol gtpu
					no mirror sgw protocol s4s11
					no mirror sgw protocol s1u
					no mirror sgw protocol gtpc-s5s8
					no mirror sgw protocol gtpu-s5s8
					no mirror sgw protocol pfcp
					no mirror aaa protocol diameter sctp
					no mirror aaa protocol diameter tcp
				} -- -fd exp9

=================================== 15:57:53 ===================================
=== no mirror pgw protocol gtpc
=== CASA-MOBILE#
=== CASA-MOBILE#
================================================================================


=================================== 15:57:53 ===================================
=== no mirror pgw protocol pfcp
===                                    ^
=== Syntax Error
=== CASA-MOBILE#
=== CASA-MOBILE#
================================================================================


!! Error(ProcessExpectOutput): Detected Minor Error in output: Syntax Error

====================================================
=== [15:57:53] SendAndExpect Debug:
====================================================
> Expect Result ........ Detected Minor Error
> Target IP ............  172.0.10.247:22 (ssh)
> spawn_id ............. exp9
> Timeout .............. 10 second(s)
> Time Expired ......... 0 second(s)
> Send String .......... no mirror pgw protocol pfcp\r\n
> RegExp Switches ...... --
> Expect Prompt ........ .*[\r\n]*[^\s]{2,}[^\r\n]*[^@][>#:][ ]*$ (Default - Casa Prompt)
> Ignore Level ......... Off
> Pass String .......... [:PROMPT:]
> Fail String .......... N/A
> EXPECT_TIMEDOUT ...... False
> EXPECT_OUT(buffer) ... no mirror pgw protocol pfcp\r\n                                   ^\r\nSyntax Error\r\nCASA-MOBILE#\r\nCASA-MOBILE#



====================================================================================================
=== no mirror pgw protocol pfcp
===                                    ^
=== Syntax Error
=== CASA-MOBILE#
=== CASA-MOBILE#
====================================================================================================

Error(LteCliSend):no mirror pgw protocol pfcp
                                   ^
Syntax Error
CASA-MOBILE#
CASA-MOBILE# 
Send cli failed!!!

!! Error(Mirror): Error while clear mirror config
!!Error(DEALEXCEL::Mirror_Clear):  Mirror -type saegwc -stop -fd exp9 -clear_all 1 fail!!!
Warning(SAEGW::Main): ::DEALEXCEL::Mirror_Stop -type "saegwc" fail!!
Info(DEALEXCEL::Mirror_Clear): There are the following spawn_id of NFV that should clear mirror config (SPAWN_ID_SAEGW_U)

=================================== 15:57:54 ===================================
=== 
=== CASA-MOBILE#
=== CASA-MOBILE#mirror stop
=== CASA-MOBILE#
=== CASA-MOBILE#
================================================================================


================================================================================

